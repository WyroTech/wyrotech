---
import { IndexPage } from "@/layouts/IndexPage";
import Main from "@/layouts/main.astro";
import logoImg from "public/logo.webp";
import logoSmallImg from "public/logo_small.webp";
import profileImg from "public/profile.webp";
import profileSmallImg from "public/profileSmall.webp";
import CarImage from "public/projects/car.png";
import LoomImage from "public/projects/loom.webp";
import WyroTechImage from "public/projects/wyrotech.png";
import acpImg from "public/screenshots/acp.png";
import connectaImg from "public/screenshots/connacta-regensburg.png";
import courseraImg from "public/screenshots/coursera.png";
import dabImg from "public/screenshots/dab.png";
import edvschuleImg from "public/screenshots/edvschule.png";
import firstcontactImg from "public/screenshots/firstcontact-deggendorf.png";
import { Navigation } from "../../components/Navigation";
import Footer from "../../layouts/Footer.astro";
import LandingHeader from "../../layouts/LandingHeader.astro";
import ProgrammingLanguages from "../../layouts/ProgrammingLanguages.astro";
import Projects from "../../layouts/Projects.astro";
import SpeakingLanguages from "../../layouts/SpeakingLanguages.astro";
import type { LandingPageObject, Project } from "../../lib/models";

Astro.response.headers.set(
	"Cache-Control",
	"s-maxage=360, stale-while-revalidate",
);
Astro.response.headers.set("Vercel-CDN-Cache-Control", "max-age=3600");
Astro.response.headers.set("CDN-Cache-Control", "max-age=60");
export const prerender = true;

const obj: LandingPageObject = {
	logo: logoImg.src,
	logoSmall: logoSmallImg.src,
	profileUrl: profileImg.src,
	profileSmallUrl: profileSmallImg.src,
	timelineImages: {
		firstcontact: firstcontactImg.src,
		dab: dabImg.src,
		coursera: courseraImg.src,
		connecta: connectaImg.src,
		edvschule: edvschuleImg.src,
		acp: acpImg.src,
	},
	projects: [
		{
			title: "WyroTech",
			description:
				"A personal portfolio website built with modern web technologies to showcase projects, skills, and professional experience.",
			tag: "Website",
			image: WyroTechImage.src,
			link: "https://github.com/WyroTech/wyrotech",
			tech: ["react", "astro", "tailwindcss", "vercel"],
		} as Project,
		{
			title: "RoboCar 4.0",
			description:
				"Control a smart robot car via ESP32 and Python backend using WebSockets and JSON communication between ESP32 and Arduino.",
			tag: "Robotic",
			link: "https://github.com/WyroTech/RoboCar",
			tech: ["cplusplus", "python", "javascript"],
			image: CarImage.src,
		},
		{
			title: "dab Nexus Loom",
			description:
				"The ultimate SAP data analytics solution using Microsoft Fabric for seamless integration and advanced insights.",
			tag: "Business-Analytic Platform",
			link: "https://www.dab-europe.com/en/products/dab-nexus-loom/",
			image: LoomImage.src,
			tech: ["angular", "docker", "dotnet"],
		},
	].reverse(),
};
---

<Main>
    <link slot="head" rel="prefetch" fetchpriority="high" as="image" type="image/webp" href={obj.logo} />
    <link slot="head" rel="prefetch" fetchpriority="high" as="image" type="image/webp" href={obj.profileUrl} />
    <link slot="head" rel="prefetch" fetchpriority="high" as="image" type="image/webp" href={obj.profileSmallUrl} />

    <Navigation client:only="react" logo={obj.logoSmall} />
    <LandingHeader profileUrl={obj.profileUrl} profileSmallUrl={obj.profileSmallUrl} />
    <ProgrammingLanguages/>
    <SpeakingLanguages/>
    <Projects projects={obj.projects} />
    <IndexPage client:only="react" obj={obj}/>
    <Footer />
</Main>