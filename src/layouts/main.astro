---
import "../styles/global.css";
import { GoogleFontsOptimizer } from "astro-google-fonts-optimizer";
import { getLangFromUrl } from "../i18n/utils";
import { getLogo } from "../lib/helper";

const lang = getLangFromUrl(Astro.url);
const optimizedImage = await getLogo();
---
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width"/>
    <link rel="icon" href="/favico.ico"/>
    <link rel="image_src" href={optimizedImage}>
    <title>WyroTech üåç by Andreas Wyrobek</title>
    <!-- SEO metadata -->
    <meta name="description"
          content="Andreas Wyrobek - Principal Software Engineer & UX/UI Lead  | Angular & UX Specialist"/>
    <meta name="keywords" content="full-stack developer, angular specialist, ux design, bavaria"/>
    <meta property="og:title" content="WyroTech by Andreas Wyrobek"/>
    <meta property="og:description" content="Principal Software Engineer & UX/UI Lead"/>
    <meta property="og:type" content="website"/>
    <link rel="manifest" href="/site.webmanifest">

    <link rel="preload" href={optimizedImage} as="image"/>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <GoogleFontsOptimizer url="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Syne:wght@400..800&display=swap"/>

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="WyroTech by Andreas Wyrobek">
    <meta name="twitter:description"
          content="Principal Software Engineer & UX/UI Lead | Angular & UX Specialist">
    <meta name="twitter:image" content="https://wyro.tech/logo_small.png">

    <link rel="canonical" href={"https://wyro.tech/" + Astro.url.pathname}>

    <meta name="author" content="Andreas Wyrobek">
    <meta name="robots" content="index, follow">
    <meta name="language" content={lang === "de" ? "German" : "English"}>

    <meta property="og:image" content="https://wyro.tech/logo_small.png">
    <meta property="og:image:width" content="915">
    <meta property="og:image:height" content="895">
    <meta property="og:url" content="https://wyro.tech">
    <meta property="og:locale" content={lang === "de" ? "de_DE" : "en_US"}>

    <link rel="sitemap" href="/sitemap-index.xml" />
    
    <slot name="head"/>
</head>
<body>
<slot/>
<script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "WyroTech by Andreas Wyrobek",
        "logo": "https://wyro.tech/logo_small.png",
        "url": "https://wyro.tech",
        "jobTitle": "Principal Software Engineer & UX/UI Lead",
        "nationality": "German",
        "worksFor": {
            "@type": "Organization",
            "name": "WyroTech"
        },
        "skills": [
            "Angular",
            "UX Design",
            "Principal Software Engineer",
            "UX/UI Lead"
        ]
    }
</script>
</body>
</html>
